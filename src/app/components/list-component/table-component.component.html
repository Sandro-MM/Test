<p-table [stateKey]="stateKey" [stateStorage]="'local'" [value]="data" [paginator]="true" [rows]="5" [rowsPerPageOptions]="[5, 10, 20, 50]" stripedRows  stateStorage="session">
  <ng-template pTemplate="header">
    <tr>
      @for (col of columns; track ($index + 'titlecase')) {
        <th [pSortableColumn]="col">
          {{ col | titlecase }}
          <p-sortIcon [field]="col"/>
        </th>
      }
    </tr>
    <tr>
      @for (col of columns; track ($index + 'filter')) {
        <th>
          <p-columnFilter type="text" [field]="col" [placeholder]="'Search by ' + col | titlecase" [ariaLabel]="'Filter ' + col"/>
        </th>
      }
    </tr>
  </ng-template>
  <ng-template let-rowData pTemplate="body">
    <tr>
      @for (col of columns; track ($index + 'row')) {
        <td (click)="onRowClick(rowData)">
          {{ rowData[col] }}
        </td>
      }
    </tr>
  </ng-template>
</p-table>
